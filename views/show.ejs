<!DOCTYPE html>
<html lang="en">
  <head>
    <title>The Art Gallery</title>

    <link rel="stylesheet" href="/main.css" />
    <link rel="stylesheet" href="/scroll.css" />
  </head>
  <body>
    <header class="text">
      <h1><span></span>The ART GALLERY</span></h1>
      <a href="/paintings/"><button>Back to the main</button></a>
    </header>
    <main class="main show-on-scroll">
      <div>
        <img
          src="<%= painting.image %>"
          class="blur-round-img"
        />
      </div>
      
     
      <h1 class="heading"><%= painting.artist %></h1>
    </main>

    
    <article class="content">
      <h2><%= painting.title %></h2>
      <h2><%= painting.date %></h2>
      <h2><%= painting.medium %></h2>
      
   
      
        
      
        <a href="/paintings/<%= painting._id %>/edit">Edit Painting</a>
      <img onclick="window.open(this.src)"
        src="<%= painting.image %>"
        alt="<%= painting.name %>"
        class="inline-img show-on-scroll"
      />
      
      <footer><%- include('./partials/footer.ejs')%></footer>
    <script>
        let elementsToShow = document.querySelectorAll(".show-on-scroll");
      function loop() {
        elementsToShow.forEach(function (element) {
          if (isElementInViewport(element)) {
            element.classList.add("is-visible");
          } else {
            element.classList.remove("is-visible");
          }
        });
        scroll(loop);
      }
      // Call the loop for the first time
      loop();
 
      function isElementInViewport(el) {
      
        if (typeof jQuery === "function" && el instanceof jQuery) {
          el = el[0];
        }
        let rect = el.getBoundingClientRect();
        return (
          (rect.top <= 0 && rect.bottom >= 0) ||
          (rect.bottom >=
            (window.innerHeight || document.documentElement.clientHeight) &&
            rect.top <=
              (window.innerHeight || document.documentElement.clientHeight)) ||
          (rect.top >= 0 &&
            rect.bottom <=
              (window.innerHeight || document.documentElement.clientHeight))
        );
      }
    </script>

    <script src="javascripts/show-on-scroll.js"></script>
  </body>
</html>